{% extends "base.html" %}
{% block title %}Submit Story{% endblock title %}

{% block content %}

<div class="container mt-5">
    <h2>Share your story to the timeline:</h2>
    </br>
    <form enctype="multipart/form-data" method='POST'> {% csrf_token %}
        {{ form.errors }}
        {{ form.non_field_errors }}
        <p class="p-0 col-md-8 col-lg-6">KRCL flipped the switch and started spinning records on the air at 3:00 p.m.
            Mountain Standard Time Monday, December 3, 1979. Help us build out the timeline. Use this form to submit
            your stories, photos and digital memorabilia. <br>To donate physical items, email <a
                href="mailto:radioactive@krcl.org">radioactive@krcl.org</a></p>
        <div class="form-group">
            <label for="title">* Title:</label>
            <input type="text" maxlength="128" class="form-control col-md-8 col-lg-6" required id="title" placeholder="Enter a Title"
                name="title">
        </div>
        <div class="form-group">
            <label for="story">* Story:</label>
            <textarea type="text" rows="4" maxlength="512" class="form-control col-md-8 col-lg-6" required id="story"
                placeholder="Enter your Story" name="story"></textarea>
        </div>
        <div class="form-group">
            <label for="startDate">* Event Date:</label>
            <input type="date" max="" class="form-control col-8 col-sm-5 col-md-4 col-lg-3 col-xl-2" required id="startDate"
                placeholder="Enter a date" name="startDate">
        </div>
        <div class="form-group form-check">
            <label class="form-check-label">
                <input id="endCheck" class="form-check-input" type="checkbox"> Click to add End Date if applicable
            </label>
        </div>
        <div style="display: none;" id="end" class="form-group">
            <label for="endDate">End Date:</label>
            <input type="date" max="" class="form-control col-8 col-sm-5 col-md-4 col-lg-3 col-xl-2" id="endDate"
                placeholder="Enter a date" name="endDate">
        </div>
        </br>

        <h3>Media</h3>

        <div class="form-group form-check">
            <label class="form-check-label">
                <input id="medFileCheck" class="form-check-input" type="checkbox"> Click to add Media
            </label>
        </div>
        <div style="display: none;" id="medFile">
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="fileCheck" value="option2" checked>
            <label class="form-check-label" for="fileCheck"> Add Media by File Upload</label>
          </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="medCheck" value="option1">
            <label class="form-check-label" for="medCheck"> Add Media by URL</label>
          </div>

        <div id="file">
            <p class="mt-3"> Click <a data-toggle="modal" href="#fileModal">here</a> to see list of accepted file types.
                <div class="modal" id="fileModal">
                    <div class="modal-dialog modal-dialog-scrollable">
                        <div class="modal-content">
    
                            <div class="modal-body">
                                <dl>
                                    <dt>Image</dt>
                                    <dd>Timeline currently supports <code>jpg</code>, <code>gif</code>, <code>png</code> or
                                        <code>jpeg</code> files.
                                    </dd>
    
                                    <dt>Video Files</dt>
                                    <dd>Timeline currently supports
                                        <code>.mp4</code> files.</dd>
    
                                    <dt>Audio Files</dt>
                                    <dd>Timeline currently supports
                                        <code>.mp3</code>, <code>.m4a</code>, and <code>.wav</code> files.</dd>
                                </dl>
                            </div>
    
                            <div class="modal-footer justify-content-center">
                                <button class="btn btnGreen" data-dismiss="modal">Done</button>
                            </div>
    
                        </div>
                    </div>
                </div>


            <div class="form-group">
              <label for="fileUp">* Choose File: </label>
              <input type="file" name="fileUp" class="form-control-file" id="fileUp" accept=".jpg,.gif,.png,.jpeg,.mp4,.mp3.,m4a.,.wav">
            </div>
        </div>

        <div style="display: none;" id="med">
        <p class="mt-3"> Click <a data-toggle="modal" href="#myModal">here</a> to see list of accepted media sources.
            <div class="modal" id="myModal">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">

                        <div class="modal-body">
                            <dl>
                                <dt>Image</dt>
                                <dd>If your URL ends in <code>jpg</code>, <code>gif</code>, <code>png</code> or
                                    <code>jpeg</code>, it will be used as the source for an image tag. It should also
                                    work if there is a <a href="https://en.wikipedia.org/wiki/Query_string">query
                                        string</a> after the extension, perhaps specifying dynamic width and height
                                    values.
                                </dd>

                                <dt>Online Videos</dt>
                                <dd>Use the URL for the page of the video for <a href="http://vimeo.com">Vimeo</a>, <a
                                        href="http://DailyMotion.com">DailyMotion</a>, <a
                                        href="http://Vine.co">Vine</a>, and <a href="http://youtube.com/">YouTube</a>.
                                    Timeline honors <a href="http://youtubetime.com/">Youtube start-at time
                                        parameters</a>.</dd>

                                <dt>Video Files</dt>
                                <dd>Use a link to a video file on the internet. Timeline currently supports
                                    <code>.mp4</code> files.</dd>

                                <dt>Audio Files</dt>
                                <dd>Use a link to a video file on the internet. Timeline currently supports
                                    <code>.mp3</code>, <code>.m4a</code>, and <code>.wav</code> files.</dd>

                                <dt>SoundCloud</dt>
                                <dd>Use the URL for the <a href="http://soundcloud.com">SoundCloud</a> clip page.</dd>

                                <dt>Spotify</dt>
                                <dd>Supports use of tracks, albums, and user playlists. Use the URL obtained from
                                    clicking on "Copy Spotify URL."</dd>

                                <dt>Twitter</dt>
                                <dd>Use the <a href="http://twitter.com">Twitter</a> embed code, or the URL of the
                                    tweet's page.</dd>

                                <dt>Google Maps</dt>
                                <dd>Use the URL for the <a href="http://google.com/maps">Google Maps</a> page (unless
                                    you are using Streetview, which currently requires the embed URL found in the
                                    "Share" section). Coordinates, search results, place marks and directions are all
                                    honored by Timeline. Timeline supports roadmap, hybrid, satellite and terrain
                                    Google Maps, as well as directions, places, and Streetview maps.</dd>

                                <dt>Instagram</dt>
                                <dd>Use the URL for the <a href="http://www.instagram.com">Instagram</a> photo's page.
                                </dd>

                                <dt>Flickr</dt>
                                <dd>Use the URL for the <a href="http://www.flickr.com">Flickr</a> photo's page. The
                                    shortened link provided in the share menu (e.g.
                                    <code>https://flic.kr/p/sv3VN6</code>) will also work.</dd>

                                <dt>Imgur</dt>
                                <dd>Use the URL for the <a href="http://imgur.com">Imgur</a> photo's page.</dd>


                                <dt>DocumentCloud</dt>
                                <dd>Use the URL of the <a href="http://www.documentcloud.org">Document Cloud</a>
                                    document's page.</dd>

                                <dt>Wikipedia</dt>
                                <dd>Use the URL of the <a href="https://en.wikipedia.org/">Wikipedia</a> article's page.
                                </dd>

                                <dt>Storify</dt>
                                <dd>Use the URL of the <a href="http://www.storify.com">Storify</a>.</dd>

                                <dt>Blockquote</dt>
                                <dd>Instead of a URL, you can use <code>&lt;blockquote&gt;</code> tags around whatever
                                    text you want to quote.</dd>

                                <dt>Wistia</dt>
                                <dd>Use the URL of the <a href="https://wistia.com">Wistia</a> video. You can find this
                                    in either the "Social Sharing" or "Embed Code" tab of your video.</dd>
                            </dl>
                        </div>

                        <!-- Modal footer -->
                        <div class="modal-footer justify-content-center">
                            <button class="btn btnGreen" data-dismiss="modal">Done</button>
                        </div>

                    </div>
                </div>
            </div>
            <div class="form-group">
            <label for="media_url"> * Enter one URL:</label>
            <input type="url" maxlength="200" class="form-control col-md-8 col-lg-5" id="media_url" placeholder="Enter a URL"
                name="media_url">
            </div>
        </div>
        <!-- <div class="form-group form-check">
            <label class="form-check-label">
                <input id="capCheck" class="form-check-input" type="checkbox"> Add Caption?
            </label>
        </div> -->
        <div id="cap" class="form-group">
            <label for="caption">* Caption:</label>
            <input type="text" maxlength="64" class="form-control col-md-6 col-lg-4" id="caption"
                placeholder="Enter a caption" name="caption">
        </div>
        <!-- <div class="form-group form-check">
            <label class="form-check-label">
                <input id="credCheck" class="form-check-input" type="checkbox"> Add Credits?
            </label>
        </div> -->
        <div id="cred" class="form-group">
            <label for="credit">* Credit:</label>
            <input type="text" maxlength="64" class="form-control col-md-6 col-lg-4" id="credit" placeholder="Enter a credit"
                name="credit">
        </div>
    </div>
    <br><br>
    <h3>More About You</h3>

    <div class="form-group mb-3">
            <label for="name">* Name:</label>
            <input type="text" maxlength="128" class="form-control col-md-6 col-lg-4" required id="name" placeholder="Enter your name"
              name="name">
              <p>The name you enter here will appear on the timeline.</p>
          </div>
    <div class="form-group">
            <label for="email">* Email:</label>
            <input type="email" maxlength="320" class="form-control col-md-6 col-lg-4" required id="email" placeholder="Enter your email"
                name="email">
            <p>Please provide your email in case we need to contact you about your submission.</p>

    </div>
        <!-- <div class="form-group mb-4">
          <label for="backgroundImage">Background Image:</label>
          <input type="url" class="form-controlcol-md-8 col-lg-6" id="backgroundImage" placeholder="Enter a URL" name="backgroundImage">
  </div> -->
        <button type='submit' value='Save' class="mt-4 btn btnGreen">Submit</button>
    </form>
</div>
<script>
startDate.max = new Date().toISOString().split("T")[0];
endDate.max = new Date().toISOString().split("T")[0];
</script>

<script>
     $(document).ready(function () {
    //     $("#capCheck").click(function () {
    //         if ($("#capCheck").prop("checked")) {
    //             $("#cap").show();
    //         } else {
    //             $("#cap").hide();
    //         }
    //     });
    $("#medFileCheck").click(function () {
        if ($("#medFileCheck").prop("checked")) {
            $("#medFile").show();
            $("#caption").prop('required',true);
            $("#credit").prop('required',true);

        } else {
            $("#medFile").hide();
            $("#caption").prop('required',false);
            $("#credit").prop('required',false);
        }
    });
    $("#medCheck, #fileCheck",).change(function () {
        if ($("#medCheck").prop("checked")) {
            $("#med").show();
            $("#media_url").prop('required',true);

        } else {
            $("#med").hide();
            $("#media_url").prop('required',false);
        }

        if ($("#fileCheck").prop("checked")) {
            $("#file").show();
            $("#fileUp").prop('required',true);
        } else {
            $("#file").hide();
            $("#fileUp").prop('required',false);

        }
    });
    $("#endCheck").click(function () {
        if ($("#endCheck").prop("checked")) {
            $("#end").show();
        } else {
            $("#end").hide();
        }
    });
    });
</script>

</br>
</br>
</br>
{% endblock content %}